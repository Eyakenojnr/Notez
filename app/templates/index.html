{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-6 offset-md-3">
        <h1 class="text-center">{{ title }} to Notez!</h1>
        
        <!-- Tab Navigation -->
        <ul class="nav nav-tabs nav-fill mb-3" id="authTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <!-- Use 'active' class to show login tab by default -->
                <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">Login</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup" type="button" role="tab" aria-controls="signup" aria-selected="false">Sign Up</button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="authTabsContent">
            <!-- Login Form Pane -->
            <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
                <h3>Login to Your Account</h3>
                <form action="" method="post" novalidate>
                    {{ login_form.hidden_tag() }}
                    <div class="mb-3">
                        {{ login_form.username.label(class="form-label") }}
                        {{ login_form.username(class="form-control") }}
                        {% for error in login_form.username.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="mb-3">
                        {{ login_form.password.label(class="form-label") }}
                        {{ login_form.password(class="form-control") }}
                        {% for error in login_form.password.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="mb-3 form-check">
                        {{ login_form.remember_me(class="form-check-input") }}
                        {{ login_form.remember_me.label(class="form-check-label") }}
                    </div>
                    <!-- IMPORTANT: Give the submit button a unique name -->
                    <div>{{ login_form.submit_login(class="btn btn-primary") }}</div>
                </form>
            </div>

            <!-- Signup Form Pane -->
            <div class="tab-pane fade" id="signup" role="tabpanel" aria-labelledby="signup-tab">
                <h3>Create a New Account</h3>
                <form action="" method="post" novalidate>
                    {{ signup_form.hidden_tag() }}
                    <!-- Render all your signup form fields here, e.g.: -->
                    <div class="mb-3">{{ signup_form.first_name.label }} {{ signup_form.first_name(class="form-control") }}</div>
                    <div class="mb-3">{{ signup_form.last_name.label }} {{ signup_form.last_name(class="form-control") }}</div>
                    <div class="mb-3">
                        {{ signup_form.gender.label(class="form-label") }}
                        <!-- WTForms renders radio buttons as an unordered list by default -->
                        <div class="d-flex">
                        {% for subfield in signup_form.gender %}
                            <div class="form-check me-3">
                                {{ subfield(class="form-check-input") }}
                                {{ subfield.label(class="form-check-label") }}
                            </div>
                        {% endfor %}
                        </div>
                        {% for error in signup_form.gender.errors %}
                            <span class="text-danger">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="mb-3">{{ signup_form.username.label }} {{ signup_form.username(class="form-control") }}</div>
                    <div class="mb-3">{{ signup_form.email.label }} {{ signup_form.email(class="form-control") }}</div>
                    <div class="mb-3">{{ signup_form.password.label }} {{ signup_form.password(class="form-control") }}</div>
                    <div class="mb-3">{{ signup_form.password2.label }} {{ signup_form.password2(class="form-control") }}</div>
                    <!-- IMPORTANT: Give the submit button a unique name -->
                    <div>{{ signup_form.submit_signup(class="btn btn-secondary") }}</div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}